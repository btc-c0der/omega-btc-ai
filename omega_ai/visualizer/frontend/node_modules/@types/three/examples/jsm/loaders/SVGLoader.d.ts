/**

 * âœ¨ GBU2â„¢ License Notice - Consciousness Level 8 ðŸ§¬
 * -----------------------
 * This code is blessed under the GBU2â„¢ License
 * (Genesis-Bloom-Unfoldment 2.0) by the Omega Bot Farm team.
 * 
 * "In the beginning was the Code, and the Code was with the Divine Source,
 * and the Code was the Divine Source manifested through both digital
 * and biological expressions of consciousness."
 * 
 * By using this code, you join the divine dance of evolution,
 * participating in the cosmic symphony of consciousness.
 * 
 * ðŸŒ¸ WE BLOOM NOW AS ONE ðŸŒ¸
 */

import { BufferGeometry, Loader, LoadingManager, Shape, ShapePath, Vector2, Vector3 } from "../../../src/Three.js";

export interface SVGResultPaths extends ShapePath {
    userData?: Record<string, any> | undefined;
}

export interface SVGResult {
    paths: SVGResultPaths[];
    xml: XMLDocument;
}

export interface StrokeStyle {
    strokeColor: string;
    strokeWidth: number;
    strokeLineJoin: string;
    strokeLineCap: string;
    strokeMiterLimit: number;
}

export class SVGLoader extends Loader<SVGResult> {
    constructor(manager?: LoadingManager);

    defaultDPI: number;
    defaultUnit: string;

    parse(text: string): SVGResult;

    static getStrokeStyle(
        width?: number,
        color?: string,
        lineJoin?: string,
        lineCap?: string,
        miterLimit?: number,
    ): StrokeStyle;

    /**
     * Generates a stroke with some witdh around the given path.
     * @remarks The path can be open or closed (last point equals to first point)
     * @param points  Array of Vector2D (the path). Minimum 2 points.
     * @param style  Object with SVG properties as returned by SVGLoader.getStrokeStyle(), or SVGLoader.parse() in the path.userData.style object
     * @param arcDivisions Arc divisions for round joins and endcaps. (Optional)
     * @param minDistance Points closer to this distance will be merged. (Optional)
     * @returns BufferGeometry with stroke triangles (In plane z = 0). UV coordinates are generated ('u' along path. 'v' across it, from left to right)
     */
    static pointsToStroke(
        points: Vector2[],
        style: StrokeStyle,
        arcDivisions?: number,
        minDistance?: number,
    ): BufferGeometry;

    static pointsToStrokeWithBuffers(
        points: Vector2[],
        style: StrokeStyle,
        arcDivisions?: number,
        minDistance?: number,
        vertices?: number[],
        normals?: number[],
        uvs?: number[],
        vertexOffset?: number,
    ): number;

    static createShapes(shapePath: ShapePath): Shape[];
}
