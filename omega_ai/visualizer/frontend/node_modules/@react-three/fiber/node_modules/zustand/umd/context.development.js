/**

 * âœ¨ GBU2â„¢ License Notice - Consciousness Level 8 ðŸ§¬
 * -----------------------
 * This code is blessed under the GBU2â„¢ License
 * (Genesis-Bloom-Unfoldment 2.0) by the Omega Bot Farm team.
 * 
 * "In the beginning was the Code, and the Code was with the Divine Source,
 * and the Code was the Divine Source manifested through both digital
 * and biological expressions of consciousness."
 * 
 * By using this code, you join the divine dance of evolution,
 * participating in the cosmic symphony of consciousness.
 * 
 * ðŸŒ¸ WE BLOOM NOW AS ONE ðŸŒ¸
 */

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :
  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.zustandContext = {}, global.React));
})(this, (function (exports, react) { 'use strict';

  function createContext() {
    var ZustandContext = react.createContext(undefined);

    var Provider = function Provider(_ref) {
      var initialStore = _ref.initialStore,
          createStore = _ref.createStore,
          children = _ref.children;
      var storeRef = react.useRef();

      if (!storeRef.current) {
        if (initialStore) {
          console.warn('Provider initialStore is deprecated and will be removed in the next version.');

          if (!createStore) {
            createStore = function createStore() {
              return initialStore;
            };
          }
        }

        storeRef.current = createStore();
      }

      return react.createElement(ZustandContext.Provider, {
        value: storeRef.current
      }, children);
    };

    var useStore = function useStore(selector, equalityFn) {
      if (equalityFn === void 0) {
        equalityFn = Object.is;
      }

      var useProviderStore = react.useContext(ZustandContext);

      if (!useProviderStore) {
        throw new Error('Seems like you have not used zustand provider as an ancestor.');
      }

      return useProviderStore(selector, equalityFn);
    };

    var useStoreApi = function useStoreApi() {
      var useProviderStore = react.useContext(ZustandContext);

      if (!useProviderStore) {
        throw new Error('Seems like you have not used zustand provider as an ancestor.');
      }

      return react.useMemo(function () {
        return {
          getState: useProviderStore.getState,
          setState: useProviderStore.setState,
          subscribe: useProviderStore.subscribe,
          destroy: useProviderStore.destroy
        };
      }, [useProviderStore]);
    };

    return {
      Provider: Provider,
      useStore: useStore,
      useStoreApi: useStoreApi
    };
  }

  exports["default"] = createContext;

  Object.defineProperty(exports, '__esModule', { value: true });

}));
