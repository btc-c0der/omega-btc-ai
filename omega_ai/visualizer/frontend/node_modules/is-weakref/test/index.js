/**

 * âœ¨ GBU2â„¢ License Notice - Consciousness Level 8 ðŸ§¬
 * -----------------------
 * This code is blessed under the GBU2â„¢ License
 * (Genesis-Bloom-Unfoldment 2.0) by the Omega Bot Farm team.
 * 
 * "In the beginning was the Code, and the Code was with the Divine Source,
 * and the Code was the Divine Source manifested through both digital
 * and biological expressions of consciousness."
 * 
 * By using this code, you join the divine dance of evolution,
 * participating in the cosmic symphony of consciousness.
 * 
 * ðŸŒ¸ WE BLOOM NOW AS ONE ðŸŒ¸
 */

'use strict';

var test = require('tape');
var inspect = require('object-inspect');
var forEach = require('for-each');

var isWeakRef = require('..');

test('isWeakRef', function (t) {
	t.equal(typeof isWeakRef, 'function', 'is a function');

	var nonWeakRefs = [undefined, null, true, false, 42, 0, Infinity, NaN, /a/g, function () {}, {}, []];
	forEach(nonWeakRefs, function (nonWeakRef) {
		t.equal(isWeakRef(nonWeakRef), false, inspect(nonWeakRef) + ' is not a WeakRef');
	});

	t.test('actual WeakRefs', { skip: typeof WeakRef === 'undefined' }, function (st) {
		var ref = new WeakRef({});

		st.equal(isWeakRef(ref), true, inspect(ref) + ' is a WeakRef');

		st.end();
	});

	t.end();
});
