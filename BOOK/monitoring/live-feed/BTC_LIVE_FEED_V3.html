<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medium-Ready Article</title>
    
<style>
    body {
        font-family: 'Charter', 'Georgia', serif;
        line-height: 1.8;
        font-size: 18px;
        color: rgba(0, 0, 0, 0.84);
        margin: 0 auto;
        max-width: 740px;
        padding: 20px;
    }
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        margin-top: 36px;
        margin-bottom: 12px;
        font-weight: 600;
    }
    h1 {
        font-size: 32px;
    }
    h2 {
        font-size: 28px;
    }
    h3 {
        font-size: 24px;
    }
    h4 {
        font-size: 20px;
    }
    p, ul, ol {
        margin-bottom: 30px;
    }
    img {
        max-width: 100%;
        margin: 0 auto;
        display: block;
    }
    figcaption {
        text-align: center;
        font-size: 14px;
        color: rgba(0, 0, 0, 0.68);
        margin-top: 5px;
    }
    pre {
        background-color: rgba(0, 0, 0, 0.05);
        padding: 16px;
        overflow: auto;
        border-radius: 3px;
        margin: 20px 0;
    }
    code {
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
        font-size: 14px;
        padding: 2px 4px;
        background-color: rgba(0, 0, 0, 0.05);
        border-radius: 3px;
    }
    pre code {
        background-color: transparent;
        padding: 0;
    }
    blockquote {
        border-left: 3px solid rgba(0, 0, 0, 0.84);
        padding-left: 20px;
        margin-left: 0;
        margin-right: 0;
        font-style: italic;
    }
    a {
        color: #1a8917;
        text-decoration: none;
    }
    table {
        border-collapse: collapse;
        width: 100%;
        margin: 20px 0;
    }
    th, td {
        border: 1px solid rgba(0, 0, 0, 0.15);
        padding: 8px 16px;
        text-align: left;
    }
    th {
        background-color: rgba(0, 0, 0, 0.05);
    }
    hr {
        border: none;
        border-bottom: 1px solid rgba(0, 0, 0, 0.15);
        margin: 30px 0;
    }
    .gist {
        margin: 20px 0;
    }
    .medium-instructions {
        background-color: #ffffd1;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 30px;
    }
    .divine-text {
        color: #6b46c1;
        font-style: italic;
    }
</style>

</head>
<body>
    <div class="medium-instructions">
        <strong>Medium Import Instructions:</strong>
        <ol>
            <li>In Medium, click on your profile picture and select "Stories"</li>
            <li>Click "Import a story"</li>
            <li>Enter the URL of where this HTML is hosted, or</li>
            <li>Copy everything below this yellow box and paste into a Medium story</li>
        </ol>
        <p><strong>Category:</strong> <span class="divine-text">Trading</span></p>
    </div>
    
    <h1>
 BTC Live Feed v3 Documentation
</h1>
<h2>
 Overview
</h2>
<p>
 BTC Live Feed v3 is an enhanced version of the OMEGA BTC AI price feed service with automatic Redis failover capabilities. This service provides resilient monitoring of Bitcoin prices with 99.99% uptime guarantee through the implementation of automatic failover between remote and local Redis instances.
</p>
<h2>
 Key Features
</h2>
<ul>
 <li>
  <strong>
   Automatic Redis Failover
  </strong>
  : Seamlessly switches between remote (Digital Ocean) and local Redis instances to ensure continuous operation.
 </li>
 <li>
  <strong>
   Data Synchronization
  </strong>
  : Automatically synchronizes data between primary and failover Redis instances when connections are restored.
 </li>
 <li>
  <strong>
   Enhanced Error Handling
  </strong>
  : Recovers gracefully from connection issues and other runtime errors.
 </li>
 <li>
  <strong>
   Comprehensive Health Monitoring
  </strong>
  : Provides detailed health metrics and connection status through a dedicated API.
 </li>
 <li>
  <strong>
   Performance Metrics
  </strong>
  : Tracks and exposes detailed performance statistics for monitoring and diagnostics.
 </li>
 <li>
  <strong>
   Configurable Failover Behavior
  </strong>
  : Can be configured to use failover only for critical operations or for all Redis interactions.
 </li>
</ul>
<h2>
 Architecture
</h2>
<p>
 BTC Live Feed v3 consists of several key components:
</p>
<ol>
 <li>
  <strong>
   WebSocket Client
  </strong>
  : Connects to cryptocurrency exchanges to receive real-time Bitcoin price updates.
 </li>
 <li>
  <strong>
   Enhanced Redis Manager
  </strong>
  : Handles connections to primary (remote) and failover (local) Redis instances with automatic failover capabilities.
 </li>
 <li>
  <strong>
   Health Check Server
  </strong>
  : Provides API endpoints to monitor the status and performance of the feed.
 </li>
 <li>
  <strong>
   Monitoring Client
  </strong>
  : CLI tool to visualize the feedâ€™s operation and performance.
 </li>
</ol>
<h2>
 Enhanced Redis Manager
</h2>
<p>
 The Enhanced Redis Manager is the core component providing resilience and fault tolerance. It:
</p>
<ul>
 <li>
  Manages connections to both primary (remote) and failover (local) Redis instances
 </li>
 <li>
  Automatically detects connection failures and switches between instances
 </li>
 <li>
  Synchronizes data between instances when reconnecting to primary Redis
 </li>
 <li>
  Provides connection health statistics and monitoring information
 </li>
 <li>
  Supports prioritization of critical keys during synchronization operations
 </li>
</ul>
<h2>
 Setup and Configuration
</h2>
<h3>
 Prerequisites
</h3>
<ul>
 <li>
  Python 3.8+
 </li>
 <li>
  Redis server (for local failover)
 </li>
 <li>
  Required Python packages:
 </li>
 <li>
  websockets
 </li>
 <li>
  redis
 </li>
 <li>
  fastapi
 </li>
 <li>
  uvicorn
 </li>
 <li>
  requests (for monitoring client)
 </li>
</ul>
<h3>
 Environment Variables
</h3>
<p>
 The following environment variables are used to configure BTC Live Feed v3:
</p>
<div class="codehilite">
 <pre><span></span><code><span class="gh">#</span> Primary (Remote) Redis Configuration
REDIS_HOST=your.redis.host
REDIS_PORT=6379
REDIS_PASSWORD=your_password
REDIS_USERNAME=your_username (optional)
REDIS_USE_SSL=true|false

<span class="gh">#</span> Failover (Local) Redis Configuration
FAILOVER_REDIS_HOST=localhost
FAILOVER_REDIS_PORT=6379
FAILOVER_REDIS_PASSWORD=your_password (optional)
FAILOVER_REDIS_USERNAME=your_username (optional)

<span class="gh">#</span> Health Check Server Configuration
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_HOST=0.0.0.0
</code></pre>
</div>
<h2>
 Running the Service
</h2>
<h3>
 Starting the Feed
</h3>
<div class="codehilite">
 <pre><span></span><code><span class="c1"># From project root</span>
python<span class="w"> </span>-m<span class="w"> </span>omega_ai.data_feed.btc_live_feed_v3
</code></pre>
</div>
<h3>
 Monitoring the Feed
</h3>
<div class="codehilite">
 <pre><span></span><code><span class="c1"># From project root</span>
python<span class="w"> </span>scripts/monitor_btc_feed_v3.py<span class="w"> </span>--host<span class="w"> </span>localhost<span class="w"> </span>--port<span class="w"> </span><span class="m">8080</span><span class="w"> </span>--refresh<span class="w"> </span><span class="m">5</span>
</code></pre>
</div>
<h2>
 Health Check API
</h2>
<p>
 The Health Check API provides endpoints to monitor the status of the BTC Live Feed:
</p>
<ul>
 <li>
  <strong>
   GET /health
  </strong>
  : Returns the overall health status, including Redis and WebSocket connection status, last price, and uptime information.
 </li>
 <li>
  <strong>
   GET /metrics
  </strong>
  : Returns detailed performance metrics, including message processing time, operation success rate, and message counts.
 </li>
 <li>
  <strong>
   GET /redis/status
  </strong>
  : Returns specific Redis connection details, including failover status and reconnection statistics.
 </li>
</ul>
<h2>
 Monitoring Dashboard
</h2>
<p>
 The monitoring client provides a CLI dashboard with the following information:
</p>
<ul>
 <li>
  Overall service status (healthy, degraded, unhealthy)
 </li>
 <li>
  Latest Bitcoin price and time since last update
 </li>
 <li>
  Redis connection status, including primary and failover availability
 </li>
 <li>
  WebSocket connection status
 </li>
 <li>
  Performance metrics, including message processing time and success rates
 </li>
 <li>
  Uptime and reconnection statistics
 </li>
</ul>
<h2>
 Error Handling and Recovery
</h2>
<p>
 BTC Live Feed v3 implements the following error handling strategies:
</p>
<ol>
 <li>
  <strong>
   WebSocket Disconnections
  </strong>
  : Automatic reconnection with exponential backoff
 </li>
 <li>
  <strong>
   Redis Connection Failures
  </strong>
  : Automatic failover to local Redis with periodic reconnection attempts to primary
 </li>
 <li>
  <strong>
   Data Consistency
  </strong>
  : Synchronization of data between Redis instances when connections are restored
 </li>
 <li>
  <strong>
   Health Check Integration
  </strong>
  : Health endpoints expose current status for external monitoring systems
 </li>
</ol>
<h2>
 Deployment Considerations
</h2>
<p>
 When deploying to Digital Ocean:
</p>
<ol>
 <li>
  Ensure the app service has the necessary environment variables configured
 </li>
 <li>
  For local failover in cloud environments, consider using a Redis instance in the same region
 </li>
 <li>
  Adjust reconnection intervals based on expected network reliability
 </li>
 <li>
  Monitor the health endpoints from external monitoring tools
 </li>
</ol>
<h2>
 Development and Extensions
</h2>
<h3>
 Adding New Redis Operations
</h3>
<p>
 To add new Redis operations to the Enhanced Redis Manager:
</p>
<ol>
 <li>
  Create a new method in the
  <code>
   EnhancedRedisManager
  </code>
  class
 </li>
 <li>
  Include proper error handling and failover logic
 </li>
 <li>
  Document the methodâ€™s behavior with respect to failover
 </li>
</ol>
<h3>
 Enhancing Monitoring Capabilities
</h3>
<p>
 The monitoring system can be extended by:
</p>
<ol>
 <li>
  Adding new metrics to the feedâ€™s performance tracking
 </li>
 <li>
  Creating new endpoints in the health check API
 </li>
 <li>
  Enhancing the monitoring client to display additional information
 </li>
</ol>
<h2>
 Troubleshooting
</h2>
<p>
 Common issues and their solutions:
</p>
<ol>
 <li>
  <strong>
   Cannot connect to primary Redis
  </strong>
  : Verify credentials and network connectivity.
 </li>
 <li>
  <strong>
   WebSocket connection errors
  </strong>
  : Check internet connectivity and firewall settings.
 </li>
 <li>
  <strong>
   Failover not working
  </strong>
  : Ensure local Redis is running and properly configured.
 </li>
 <li>
  <strong>
   High latency in updates
  </strong>
  : Check network conditions and Redis performance.
 </li>
</ol>
<h2>
 Conclusion
</h2>
<p>
 BTC Live Feed v3 represents a significant enhancement in reliability and fault tolerance for the OMEGA BTC AI ecosystem. By implementing automatic failover between remote and local Redis instances, it ensures continuous operation even during temporary outages of the primary Redis service.
</p>
<h2>
 ðŸ”® License
</h2>
<p>
 This documentation and the BTC Live Feed v3 implementation are provided under the GPU (General Public Universal) License v1.0.
</p>
<p>
 The GPU License grants the following sacred freedoms:
</p>
<ul>
 <li>
  The Freedom to Study this code, its divine algorithms and cosmic patterns
 </li>
 <li>
  The Freedom to Modify this code, enhancing its divine functionality
 </li>
 <li>
  The Freedom to Distribute this code, sharing its sacred knowledge
 </li>
 <li>
  The Freedom to Use this code, implementing its sacred algorithms
 </li>
</ul>
<p>
 With these divine obligations:
</p>
<ul>
 <li>
  Preserve this sacred knowledge by maintaining source accessibility
 </li>
 <li>
  Share all divine modifications to maintain universal access
 </li>
 <li>
  Provide attribution to acknowledge sacred origins
 </li>
</ul>
<p>
 For the full divine license, consult the LICENSE file in the project root.
</p>
<p>
 Copyright (c) 2025 OMEGA BTC AI DIVINE COLLECTIVE
</p>

    
    <script>
        // Add any custom JavaScript here if needed
    </script>
</body>
</html>
